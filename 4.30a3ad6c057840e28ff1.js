(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return D}));var o=n("tyNb"),i=n("ofXK"),r=n("3Pt+"),d=n("fXoL"),s=n("FjJ6");const b=function(){return["/admin","board"]},c=function(){return["/admin","create"]};function a(t,e){if(1&t){const t=d.Lb();d.Kb(0,"div",5),d.Kb(1,"button",6),d.jc(2,"Board"),d.Jb(),d.Kb(3,"button",6),d.jc(4,"Create"),d.Jb(),d.Kb(5,"button",7),d.Rb("click",(function(e){return d.dc(t),d.Tb().logOut(e)})),d.jc(6,"Exit"),d.Jb(),d.Jb()}2&t&&(d.xb(1),d.Yb("routerLink",d.Zb(2,b)),d.xb(2),d.Yb("routerLink",d.Zb(3,c)))}const l=function(){return["/"]};let u=(()=>{class t{constructor(t,e){this.router=t,this.auth=e}ngOnInit(){}logOut(t){t.preventDefault(),this.auth.logout(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(o.c),d.Hb(s.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-admin-layout"]],decls:6,vars:3,consts:[[1,"header"],[1,"logo"],["src","assets/logo-removebg-preview.png",1,"pashik-logo",3,"routerLink"],["class","nav",4,"ngIf"],[1,"container"],[1,"nav"],["routerLinkActive","active",3,"routerLink"],[1,"btn-out","active",3,"click"]],template:function(t,e){1&t&&(d.Kb(0,"div",0),d.Kb(1,"div",1),d.Ib(2,"img",2),d.Jb(),d.hc(3,a,7,4,"div",3),d.Jb(),d.Kb(4,"div",4),d.Ib(5,"router-outlet"),d.Jb()),2&t&&(d.xb(2),d.Yb("routerLink",d.Zb(2,l)),d.xb(1),d.Yb("ngIf",e.auth.isAuthenticated()))},directives:[o.d,i.k,o.g,o.e],styles:[".header[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:5px 5px 30px}.logo[_ngcontent-%COMP%]{padding:5px;justify-content:center}.logo[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]{display:flex}.nav[_ngcontent-%COMP%]{max-width:200px;width:60%;justify-content:space-between}button[_ngcontent-%COMP%]{padding:5px;width:60px;color:#fff;background-color:#2982ca;border-radius:5px}.active[_ngcontent-%COMP%]{font-weight:700;box-shadow:4px 4px 8px -1px #000}.btn-out[_ngcontent-%COMP%]{background-color:red;box-shadow:none}"]}),t})();var p=n("ZBX8"),g=n("CzEO");let f=(()=>{class t{constructor(t,e){this.postsService=t,this.router=e,this.submited=!1}ngOnInit(){this.form=new r.d({title:new r.b(null,r.m.required),text:new r.b(null,r.m.required)})}quillStyle(){return this.form.get("text").invalid&&this.form.get("text").touched?{border:"3px solid red"}:this.form.get("text").touched?{border:"3px solid green"}:void 0}onSubmit(t){if(t.invalid)return;this.submited=!0;const e={title:t.value.title.trim()?t.value.title.trim():"- - -",text:t.value.text,date:new Date};this.pSub=this.postsService.create(e).subscribe(()=>{t.reset(),this.submited=!1,this.router.navigate(["/admin","board"])})}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(p.a),d.Hb(o.c))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-create"]],decls:10,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"input-flex"],["type","text","placeholder","Please, type the title here...","formControlName","title",1,"form-input"],[3,"ngStyle"],["formControlName","text"],[1,"p-submit"],["type","submit",3,"disabled"]],template:function(t,e){1&t&&(d.Kb(0,"form",0),d.Rb("ngSubmit",(function(){return e.onSubmit(e.form)})),d.Kb(1,"div"),d.Kb(2,"div"),d.Kb(3,"p",1),d.Ib(4,"input",2),d.Jb(),d.Jb(),d.Kb(5,"div",3),d.Ib(6,"quill-editor",4),d.Jb(),d.Kb(7,"p",5),d.Kb(8,"button",6),d.jc(9,"Save Post"),d.Jb(),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.Yb("formGroup",e.form),d.xb(5),d.Yb("ngStyle",e.quillStyle()),d.xb(3),d.Yb("disabled",e.form.invalid||e.submited))},directives:[r.n,r.j,r.e,r.a,r.i,r.c,i.l,g.a],styles:[".input-flex[_ngcontent-%COMP%]{margin:15px 0 15px 13%}.form-input[_ngcontent-%COMP%]{width:80%;box-shadow:6px 7px 6px -4px rgba(87,79,87,.55);border-radius:5px;padding:10px}.ng-valid.ng-touched[_ngcontent-%COMP%]:not(form):not(div){border:3px solid #1db81d}.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form):not(div){border:3px solid red}button[type=submit][_ngcontent-%COMP%]{background-color:#40d340;border-radius:30px;padding:10px;max-width:200px;width:50%;color:#fff;font-weight:700}button[_ngcontent-%COMP%]:disabled{background-color:#b91c1c;color:#661212}.p-submit[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center;align-items:center}"]}),t})();var m=n("eIep");function h(t,e){1&t&&(d.Kb(0,"div",2),d.Ib(1,"img",3),d.Jb())}const x=function(){return["/admin","board"]};function v(t,e){if(1&t){const t=d.Lb();d.Kb(0,"div"),d.Kb(1,"form",4),d.Rb("ngSubmit",(function(){return d.dc(t),d.Tb().submit()})),d.Kb(2,"div"),d.Kb(3,"div"),d.Kb(4,"p",5),d.Ib(5,"input",6),d.Jb(),d.Jb(),d.Kb(6,"div",7),d.Ib(7,"quill-editor",8),d.Jb(),d.Kb(8,"p",9),d.Kb(9,"button",10),d.jc(10,"Update "),d.Jb(),d.Jb(),d.Kb(11,"div",9),d.Kb(12,"button",11),d.jc(13,"To Board "),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()}if(2&t){const t=d.Tb();d.xb(1),d.Yb("formGroup",t.formEdit),d.xb(5),d.Yb("ngStyle",t.quillStyle()),d.xb(3),d.Yb("disabled",!t.formEdit.get("title").dirty&&!t.formEdit.get("text").dirty||t.formEdit.invalid||t.submitted),d.xb(3),d.Yb("routerLink",d.Zb(4,x))}}let w=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.postsService=n,this.submitted=!1}ngOnInit(){this.pSub=this.route.params.pipe(Object(m.a)(t=>this.postsService.getPostById(t.id))).subscribe(t=>{this.post=t,this.formEdit=new r.d({title:new r.b(t.title,r.m.required),text:new r.b(t.text,r.m.required)})})}quillStyle(){return this.formEdit.get("text").invalid?(console.log(this.formEdit.get("text").invalid),{border:"3px solid red"}):this.formEdit.get("text").dirty?{border:"3px solid green"}:void 0}submit(){this.formEdit.invalid||(this.submitted=!0,this.uSub=this.postsService.update(Object.assign(Object.assign({},this.post),{title:this.formEdit.value.title,text:this.formEdit.value.text})).subscribe(()=>{this.submitted=!1}),this.formEdit.reset(),this.router.navigate(["/admin","board"]))}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(o.a),d.Hb(o.c),d.Hb(p.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-edit"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"loading"],["src","assets/loading.gif"],[3,"formGroup","ngSubmit"],[1,"input-flex"],["placeholder","Please, type the title over here...","formControlName","title",1,"form-input"],[3,"ngStyle"],["formControlName","text"],[1,"p-submit"],["type","submit",3,"disabled"],[1,"btn-exit",3,"routerLink"]],template:function(t,e){if(1&t&&(d.hc(0,h,2,0,"ng-template",null,0,d.ic),d.hc(2,v,14,5,"div",1)),2&t){const t=d.cc(1);d.xb(2),d.Yb("ngIf",e.formEdit)("ngIfElse",t)}},directives:[i.k,r.n,r.j,r.e,r.a,r.i,r.c,i.l,g.a,o.d],styles:[".input-flex[_ngcontent-%COMP%]{margin:15px 0 15px 13%}.form-input[_ngcontent-%COMP%]{width:80%;box-shadow:6px 7px 6px -4px rgba(87,79,87,.55);border-radius:5px;padding:10px}.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form):not(div){border:3px solid red}.ng-valid.ng-dirty[_ngcontent-%COMP%]:not(form):not(div){border:3px solid #1db81d}button[type=submit][_ngcontent-%COMP%]{background-color:#40d340;border-radius:30px;padding:10px;max-width:200px;width:50%;color:#fff;font-weight:700}button[_ngcontent-%COMP%]:disabled{background-color:#b91c1c;color:#661212}.p-submit[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center;align-items:center}.btn-exit[_ngcontent-%COMP%]{background-color:#307cd3;border-radius:5px;padding:10px;width:100%;color:#fff;font-weight:700}"]}),t})(),O=(()=>{class t{constructor(){this.title="Default title",this.close=new d.n,this.toDelete=new d.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Bb({type:t,selectors:[["app-modal-window"]],inputs:{title:"title"},outputs:{close:"close",toDelete:"toDelete"},decls:14,vars:1,consts:[[1,"backdrop"],[1,"modal"],[1,"center"],[1,"center","modal-question"],[1,"btn-modal"],[1,"btn","green",3,"click"],["src","assets/delete2.gif",1,"delete-gif"],[1,"btn","red",3,"click"]],template:function(t,e){1&t&&(d.Ib(0,"div",0),d.Kb(1,"div",1),d.Kb(2,"nav",2),d.Kb(3,"h1"),d.jc(4),d.Jb(),d.Jb(),d.Kb(5,"p",3),d.jc(6," Are you really going to delete ?? "),d.Jb(),d.Ib(7,"hr"),d.Kb(8,"div",4),d.Kb(9,"button",5),d.Rb("click",(function(){return e.toDelete.emit()})),d.jc(10,"Yes"),d.Jb(),d.Ib(11,"img",6),d.Kb(12,"button",7),d.Rb("click",(function(){return e.close.emit()})),d.jc(13,"NO"),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.xb(4),d.lc('" ',e.title,' "'))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background:rgba(63,75,145,.349)}.modal[_ngcontent-%COMP%]{max-width:400px;width:80%;padding:1rem;background:#fff;margin-top:1rem;position:absolute;left:50%;top:20%;transform:translate(-50%);box-shadow:6px 7px 6px -4px rgba(87,79,87,.55)}.center[_ngcontent-%COMP%]{text-align:center}.modal-question[_ngcontent-%COMP%]{padding:5px 0}h1[_ngcontent-%COMP%]{margin:5px}.delete-gif[_ngcontent-%COMP%]{width:50%}.btn-modal[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding-top:16px;height:76px;overflow:hidden}.btn[_ngcontent-%COMP%]{color:#fff;font-weight:bolder;padding:8px 0;margin:3px;border:none;border-radius:3px;width:75px}.red[_ngcontent-%COMP%]{background-color:#dc143c}.green[_ngcontent-%COMP%]{background-color:#46d423}"]}),t})(),C=(()=>{class t{transform(t,e){return e.trim()?t.filter(t=>t.title.toLowerCase().includes(e.toLowerCase().trim())):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Gb({name:"searchPost",type:t,pure:!0}),t})();function P(t,e){1&t&&(d.Kb(0,"div",4),d.Ib(1,"img",5),d.Jb())}function y(t,e){if(1&t){const t=d.Lb();d.Kb(0,"span",11),d.Rb("click",(function(){return d.dc(t),d.Tb(3).search=""})),d.Ib(1,"img",12),d.Jb()}}const M=function(t){return["/admin","edit",t]};function J(t,e){if(1&t){const t=d.Lb();d.Kb(0,"tr"),d.Kb(1,"td"),d.Kb(2,"b"),d.jc(3),d.Jb(),d.Jb(),d.Kb(4,"td"),d.jc(5),d.Jb(),d.Kb(6,"td"),d.jc(7),d.Ub(8,"date"),d.Jb(),d.Kb(9,"td"),d.Kb(10,"button",13),d.Rb("click",(function(){d.dc(t);const n=e.$implicit;return d.Tb(3).deleteBtn(n)})),d.jc(11,"Delete"),d.Jb(),d.Kb(12,"button",14),d.jc(13,"Edit"),d.Jb(),d.Jb(),d.Jb()}if(2&t){const t=e.$implicit,n=e.index;d.xb(3),d.kc(n+1),d.xb(2),d.kc(t.title),d.xb(2),d.kc(d.Vb(8,4,t.date,"dd-MM-yyyy")),d.xb(5),d.Yb("routerLink",d.ac(7,M,t.id))}}function K(t,e){if(1&t){const t=d.Lb();d.Kb(0,"div"),d.Kb(1,"p",7),d.Kb(2,"input",8),d.Rb("ngModelChange",(function(e){return d.dc(t),d.Tb(2).search=e})),d.Jb(),d.hc(3,y,2,0,"span",9),d.Jb(),d.Kb(4,"table"),d.Kb(5,"tr"),d.Kb(6,"th"),d.jc(7,"ID"),d.Jb(),d.Kb(8,"th"),d.jc(9,"TITLE"),d.Jb(),d.Kb(10,"th"),d.jc(11,"DATA"),d.Jb(),d.Kb(12,"th"),d.jc(13,"ACTION"),d.Jb(),d.Jb(),d.hc(14,J,14,9,"tr",10),d.Ub(15,"searchPost"),d.Jb(),d.Jb()}if(2&t){const t=d.Tb(2);d.xb(2),d.Yb("ngModel",t.search),d.xb(1),d.Yb("ngIf",t.search.length),d.xb(11),d.Yb("ngForOf",d.Vb(15,3,t.posts,t.search))}}function _(t,e){if(1&t&&(d.Kb(0,"div"),d.hc(1,K,16,6,"div",6),d.Jb()),2&t){const t=d.Tb();d.xb(1),d.Yb("ngIf",t.posts.length)}}function k(t,e){1&t&&(d.Kb(0,"div",4),d.Ib(1,"img",15),d.Jb())}function I(t,e){if(1&t){const t=d.Lb();d.Kb(0,"app-modal-window",16),d.Rb("toDelete",(function(){d.dc(t);const e=d.Tb();return e.delete(e.titleToDelete)}))("close",(function(){return d.dc(t),d.Tb().modal=!1})),d.Jb()}if(2&t){const t=d.Tb();d.Yb("title",t.titleToDelete.title)}}let j=(()=>{class t{constructor(t){this.postsService=t,this.posts=[],this.search="",this.loaded=!1,this.modal=!1,this.alowed=!1}ngOnInit(){this.pSub=this.postsService.getPosts().subscribe(t=>{this.posts=t,this.posts.sort((t,e)=>t.date>e.date?-1:t.date<e.date?1:void 0),this.loaded=!0}),setTimeout(()=>{this.posts.length||(this.loaded=!0)},1e4)}deleteBtn(t){this.titleToDelete=t,this.modal=!0}delete(t){this.dSub=this.postsService.removePostById(t.id).subscribe(()=>{this.posts=this.posts.filter(e=>e.id!==t.id),this.modal=!1})}ngOnDestroy(){this.pSub&&this.pSub.unsubscribe(),this.dSub&&this.dSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(p.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-board"]],decls:7,vars:7,consts:[["loading",""],[4,"ngIf","ngIfElse"],["class","loaded",4,"ngIf"],[3,"title","toDelete","close",4,"ngIf"],[1,"loaded"],["src","assets/loading.gif"],[4,"ngIf"],[1,"p-form-input"],["type","text","placeholder","I am looking for",1,"form-input",3,"ngModel","ngModelChange"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],["src","assets/1.png",1,"close"],[1,"btn","red",3,"click"],[1,"btn","blue",3,"routerLink"],["src","assets/noresults.gif"],[3,"title","toDelete","close"]],template:function(t,e){if(1&t&&(d.hc(0,P,2,0,"ng-template",null,0,d.ic),d.Kb(2,"div"),d.hc(3,_,2,1,"div",1),d.hc(4,k,2,0,"div",2),d.Ub(5,"searchPost"),d.Jb(),d.hc(6,I,1,1,"app-modal-window",3)),2&t){const t=d.cc(1);d.xb(3),d.Yb("ngIf",e.loaded||e.posts.length)("ngIfElse",t),d.xb(1),d.Yb("ngIf",!d.Vb(5,4,e.posts,e.search).length&&e.loaded),d.xb(2),d.Yb("ngIf",e.modal)}},directives:[i.k,r.a,r.i,r.k,i.j,o.d,O],pipes:[C,i.d],styles:[".form-input[_ngcontent-%COMP%]{width:80%;box-shadow:6px 7px 6px -4px rgba(87,79,87,.55);border-radius:5px;padding:10px;margin-right:15px}.p-form-input[_ngcontent-%COMP%]{margin:15px 0 15px 13%}.close[_ngcontent-%COMP%]{width:20px;position:relative;top:6px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{font-weight:400;color:#039;border-bottom:3px solid #0f5f85}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:5px}td[_ngcontent-%COMP%]{color:#669;border-top:1px solid #e8edff;text-align:center}tr[_ngcontent-%COMP%]:nth-child(2n){background:#e8edff}td[_ngcontent-%COMP%]:nth-child(4){width:20%;padding:2px 0}.btn[_ngcontent-%COMP%]{color:#fff;font-weight:bolder;padding:5px 0;margin:3px;border:none;border-radius:3px;width:55px}.red[_ngcontent-%COMP%]{background-color:#dc143c}.blue[_ngcontent-%COMP%]{background-color:#3294d6}.loaded[_ngcontent-%COMP%]{padding-top:50px;display:flex;justify-content:center}"]}),t})(),S=(()=>{class t{constructor(t,e){this.auth=t,this.router=e,this.submited=!1}ngOnInit(){this.auth.isAuthenticated()&&(console.log("public auth:AuthService"),this.router.navigate(["/admin","board"])),this.form=new r.d({email:new r.b(null,[r.m.required,r.m.email]),password:new r.b(null,[r.m.required,r.m.minLength(5)])})}submitOn(t){t.invalid||(this.submited=!0,this.pSub=this.auth.login({email:this.form.value.email,password:this.form.value.password}).subscribe(()=>{this.form.reset(),this.router.navigate(["/admin","board"]),this.submited=!1},()=>this.submited=!1),this.auth.isAuthenticated()||this.form.reset())}}return t.\u0275fac=function(e){return new(e||t)(d.Hb(s.a),d.Hb(o.c))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-login"]],decls:18,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-main"],[1,"form-flex"],["type","text","id","email","placeholder","Email...","formControlName","email",1,"form-input"],["type","password","id","password","placeholder","Password...","formControlName","password",1,"form-input"],[1,"p-submit"],["type","submit",3,"disabled"],["href","tg://resolve?domain=DmytrYa"]],template:function(t,e){1&t&&(d.Kb(0,"form",0),d.Rb("ngSubmit",(function(){return e.submitOn(e.form)})),d.Kb(1,"h2"),d.jc(2,"Login to PashikBlog"),d.Jb(),d.Kb(3,"div",1),d.Kb(4,"p",2),d.Ib(5,"input",3),d.Jb(),d.Kb(6,"p",2),d.Ib(7,"input",4),d.Jb(),d.Kb(8,"p",5),d.Kb(9,"button",6),d.jc(10,"Login "),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(11,"p"),d.Kb(12,"b"),d.jc(13," Forgot your password ?"),d.Jb(),d.jc(14," Click "),d.Kb(15,"a",7),d.jc(16," here"),d.Jb(),d.jc(17,".\n"),d.Jb()),2&t&&(d.Yb("formGroup",e.form),d.xb(9),d.Yb("disabled",e.form.invalid||e.submited))},directives:[r.n,r.j,r.e,r.a,r.i,r.c],styles:["form[_ngcontent-%COMP%]{margin:30px auto;max-width:500px;width:95%;background-color:#f0fff0;border-radius:5px;box-shadow:0 0 5px 5px #549199;box-sizing:border-box}.form-main[_ngcontent-%COMP%]{padding:0 20px}h2[_ngcontent-%COMP%]{text-align:center;color:grey;margin:20px 0;padding-top:10px}.form-input[_ngcontent-%COMP%]{width:90%;box-shadow:0 0 5px 8px #d8dbdb;border-radius:5px;padding:10px;margin-bottom:20px}.form-flex[_ngcontent-%COMP%]{display:flex;justify-content:center}button[type=submit][_ngcontent-%COMP%]{background-color:#40d340;border-radius:30px;padding:10px;max-width:200px;width:50%;color:#fff;font-weight:700}button[_ngcontent-%COMP%]:disabled{background-color:#b91c1c;color:#661212}.p-submit[_ngcontent-%COMP%]{padding-bottom:20px;display:flex;justify-content:center;align-items:center}form[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{text-align:center;color:#2d7ac2}.ng-valid.ng-touched[_ngcontent-%COMP%]:not(form):not(div){border:3px solid #1db81d}.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form):not(div){border:3px solid red}a[_ngcontent-%COMP%]{color:red}"]}),t})();var Y=n("PCNd");let E=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return!!this.auth.isAuthenticated()||(this.auth.logout(),this.router.navigate(["/admin","login"]),null)}}return t.\u0275fac=function(e){return new(e||t)(d.Ob(s.a),d.Ob(o.c))},t.\u0275prov=d.Db({token:t,factory:t.\u0275fac}),t})();const L=[{path:"",component:u,children:[{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"login",component:S},{path:"edit/:id",component:w,canActivate:[E]},{path:"create",component:f,canActivate:[E]},{path:"board",component:j,canActivate:[E]}]}];let D=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(e){return new(e||t)},providers:[E],imports:[[i.b,r.f,r.l,o.f.forChild(L),Y.a],o.f]}),t})()}}]);